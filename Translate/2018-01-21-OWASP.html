<!DOCTYPE html>
<html lang="en">

<head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>OWASP-A1</title>

        <!-- Bootstrap Core CSS -->
        <link href="../css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="../css/sb-admin.css" rel="stylesheet">

        <!-- Morris Charts CSS -->
        <link href="../css/plugins/morris.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="../font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

        <!-- highlight.js -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/ir_black.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

</head>

<body>

        <div id="wrapper">

                <!-- Navigation -->
                <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
                        <!-- Brand and toggle get grouped for better mobile display -->
                        <div class="navbar-header">
                                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                </button>
                                <a class="navbar-brand" href="../index.html">打鐵鋪</a>
                        </div>
 

                        <!-- Sidebar Menu Items - These collapse to the responsive navigation menu on small screens -->
                        <div class="collapse navbar-collapse navbar-ex1-collapse">
                                <ul class="nav navbar-nav side-nav">
                                        <li>
                                                <a href="../index.html"><i class="fa fa-fw fa-dashboard"></i> Index</a>
                                        </li>
                                        <li>
                                                <a href="../AboutMe.html"><i class="fa fa-fw fa-edit"></i> About Me</a>
                                        </li>
                                        <li>
                                                <a href="../Web.html"><i class="fa fa-fw fa-desktop"></i> Web Security</a>
                                        </li>
                                        <li>
                                                <a href="../Reverse.html"><i class="fa fa-fw fa-wrench"></i> Reverse</a>
                                        </li>
                                        <li class="active">
                                                <a href="../Translate.html"><i class="fa fa-fw fa-file"></i> Translate</a>
                                        </li>
                                         <li>
                                                <a href="../Software.html"><i class="fa fa-fw fa-arrows-v"></i> Software</a>
                                        </li>                   
                                        <li>
                                                <a href="../Note.html"><i class="fa fa-fw fa-table"></i> Note</a>
                                </ul>
                                        </li>
                        </div>
                        <!-- /.navbar-collapse -->
                </nav>
                <!-- The web context start -->
                <!-- The conetext header bar start -->
                <div id="page-wrapper">
                    <div class="container-fluid">
                    <!-- Page Heading -->
                        <div class="row">
                            <div class="col-lg-12">
                                <ol class="breadcrumb">
                                    <li>
                                        <i class="fa fa-dashboard"></i>  <a href="index.html">Blog</a>
                                    </li>
                                    <li class="active">
                                        <i class="fa fa-fw fa-file"></i>  <a href="../Translate.html">Translate</a>
                                    </li>
                                    <li class="active">
                                        OSWASP 2017 A2 - Broken Authentication
                                    </li>
                                </ol>
                            </div>
                        </div>
                    <!-- The conetext header bar start -->
                    <!-- The web context start -->
                <div class="row">
                    <div class="jumbotron">
                    <h2 class="page-header">
                        <center>OWASP TOP 10 A2 - Broken Authentication</center>
                    </h2>
                    </div>
                </div>
                <!-- /#page-wrapper -->
                <div class="row">
                <div class="col-lg-12">
                    <center>
                        <p class="lead">
                        原文來自 :
                        <a href="https://github.com/OWASP/Top10/blob/master/2017/OWASP%20Top%2010%202017%20RC2%20Final.pdf">OWASP</a> (Github)
                        </p>
                    </center>
                </div>
                </div>
                <!-- 1        -->
                <div class="row">
                    <div class="col-lg-6">
                        <p class="lead">
                            Attackers have access to hundreds of millions of valid username and password combinations for credential stuffing, default administrative account lists, automated brute force and dictionary attack tools, and advanced GPU cracking tools.                  
                        </p>
                    </div>
                    <div class="col-lg-6">
                        <p  class="lead">
                            攻擊者有著數以百萬計的帳號跟密碼，包括了“密碼填充”( Credential Stuffing , 這邊指在各網站都使用相同得密碼)、預設的 administrative 清單、自動化的暴力破解器、字典檔攻擊還有 GPU 破解工具來碰撞。
                        </p>
                    </div>
                 </div>
                <!-- 1 End -->
                <!-- 2        -->
                <div class="row">
                    <div class="col-lg-6">
                        <p class="lead">
                            The prevalence of broken authentication is widespread due to the design and implementation of most identity and access management systems. <br>
                            Attackers can detect broken authentication using manual means, but are often attracted by password dumps, or after a social engineering attack such as phishing or similar.                  
                        </p>
                    </div>
                    <div class="col-lg-6">
                        <p  class="lead">
                            由於大部分的身份驗證管理系統的設計跟實際情況，導致身份驗證被破壞變得很常見。<br>
                            攻擊者可以用手動方式去檢測身份驗證的方式，常最後會看到密碼列舉，或者用社交工程（例如釣魚郵件或是類似的攻擊）。
                        </p>
                    </div>
                 </div>
                <!-- 2 End -->
                <!-- 3        -->
                <div class="row">
                    <div class="col-lg-6">
                        <p class="lead">
                            Attackers only have to gain access to a few accounts, or just one admin account to compromise the system. Depending on the domain of the app, this may allow money laundering social security fraud and identity theft; or disclose legally protected highly sensitive information.                   
                        </p>
                    </div>
                    <div class="col-lg-6">
                        <p  class="lead">
                            攻擊者只要有幾個帳號，或是一個 admin 就可以對系統造成破壞。根據這個 domain 的應用，這可能會被用來洗錢、詐欺或身份盜用 ; 也可能洩露些高危害的社會資訊。
                        </p>
                    </div>
                 </div>
                <!-- 3 End -->
                <!-- 4        -->
                <div class="row">
                    <div class="col-lg-6">
                        <p class="lead">
                            <h2>Am I Vulnerable to Broken Auth?</h2>
                            Confirmation of the user's identity, authentication, and session management are critical for separating malicious unauthenticated attackers from authorized users.<br>
                            You may have authentication weaknesses if your application:<br>
                            <ul>
                                <li>Permits credential stuffing, which is where the attacker has a list of valid usernames and passwords.</li>
                                <li>Permits brute force or other automated attacks.</li>
                                <li>Permits default, weak or well-known passwords, such as "Password1" or "admin/admin“.</li>
                                <li>Uses weak or ineffectual credential recovery and forgot password processes, such as "knowledge-based answers", which cannot be made safe.</li>
                                <li>Uses plain text, encrypted, or weakly hashed passwords permit the rapid recovery of passwords using GPU crackers or brute force tools.</li>
                                <li>Has missing or ineffective multi-factor authentication. </li>
                            </ul>
                        </p>
                    </div>
                    <div class="col-lg-6">
                        <p  class="lead">
                            <h2>我有身份驗證的問題嗎? </h2>
                            確認各使用者的身份、驗證、跟 session management，這些對於區分正常使用者跟惡意非正常使用的攻擊者來說很重要<br>
                            <ul>
                                <li>允許密碼填充可能讓攻擊者可以拿到有效的 username 跟 password。</li> <br>
                                <li>允許暴力攻擊或是其他自動化測試。</li><br>
                                <li>允許弱密碼或是眾所皆知的密碼，例如"Password1" 或 "admin/admin“</li><br>
                                <li>使用較弱或無效的驗證和忘記密碼的流程，例如 "個人問題驗證" 這些是不可靠的</li><br>
                                <li>使用明碼或是弱加密這些可以使用 GPU 可以破解得 password 或可以被工具快速恢復密碼</li><br>
                                <li>缺乏或無效的多重驗證</li>
                            </ul>
                        </p>
                    </div>
                 </div>
                <!-- 4 End -->
                <!-- 5        -->
                <div class="row">
                    <div class="col-lg-6">
                        <p class="lead">
                            <h2>How Do I Prevent This?</h2>
                            <ul>
                                <li>Do not ship or deploy with any default credentials, particularly for admin users</li>
                                <li>Store passwords using a modern one way hash function, such as Argon2 or PBKDF2, with sufficient work factor to prevent realistic GPU cracking attacks.</li>
                                <li>Implement weak password checks, such as testing new or changed passwords against a list of the top 10000 worst passwords.</li>
                                <li>Align password length, complexity and rotation policies with NIST 800-63 B's guidelines in section 5.1.1 for Memorized Secrets or other modern, evidence based password policies</li>
                                <li>Ensure registration, credential recovery, and API pathways are hardened against account enumeration attacks by using the same messages for all outcomes</li>
                                <li>Where possible, implement multi-factor authentication to prevent credential stuffing, brute force, automated, and stolen credential attacks</li>
                                <li>Log authentication failures and alert administrators when credential stuffing, brute force, other attacks are detected. </li>
                            </ul>
                        </p>
                    </div>
                    <div class="col-lg-6">
                        <p  class="lead">
                            <h2>我該如何保護？</h2>
                            <ul>
                                <li>不要使用任何預設驗證或配置，特別是具有管理員身份的使用者</li> <br>
                                <li>密碼使用單向不可逆的演算法，例如 Argon2 或 PBKDF2 並有足夠的加密因數，來保護被 GPU 破解</li><br>
                                <li>執行弱密碼確認，比如根據最新的 1000 個最差密碼測試表</li><br>
                                <li>參考 NUST 800-63 guidelines 的密碼長度、複雜度、資料保存政策 （ 5.1.1 節的 Memorized Secrets or other modern, evidence based password policies ）</li><br>
                                <li>確保註冊、驗證恢復跟 API 的路徑可以相同的訊息來源，可以阻擋暴力列舉攻擊</li><br>
                                <li>在可能得情況下，用多重因素驗證，來防止 credential stuffing, brute force, automated, 跟 stolen credential attacks</li><br>
                                <li>將記錄失敗登入，並在發現密碼填充或暴力破解的時候通知管理員</li>
                            </ul>
                        </p>
                    </div>
                 </div>
                <!-- 5 End -->
                <!-- 6        -->
                <div class="row">
                    <div class="col-lg-6">
                        <p class="lead">
                            <h2>Example Attack Scenarios</h2><br>
                            <br>
                            Scenario #1: Credential stuffing, the use of lists of known passwords, is a common attack. If an application does not rate limit authentication attempts, the application can be used as a password oracle to determine if the credentials are valid.<br>
                            <br>
                            Scenario #2: Most authentication attacks occur due to the continued use of passwords as a sole factor. Once considered best practices, password rotation and complexity requirements are viewed as encouraging users to use, and reuse, weak passwords. Organizations are recommended to stop these practices per NIST 800-63 and use multi-factor authentication.<br>
                            <br>
                            Scenario #3: Insecure password storage (including plain text, reversibly encrypted passwords, and weakly hashed passwords (such as using MD5/SHA1 with or without a salt)) can lead to breaches. A recent effort by a small group of researchers cracked 320 million passwords in less than three weeks, including long passwords. Instead use modern hashing algorithms such as Argon2, with salting and sufficient work factor to prevent the use of rainbow tables, word lists, etc.          
                        </p>
                    </div>
                    <div class="col-lg-6">
                        <p  class="lead">
                            <h2>攻擊情境範例</h2><br>
                            <br>
                            情境 #1: Credential stuffing，使用已知密碼表上的密碼，這是種常見的攻擊。如果應用程式沒有對身份驗證速率限制，則應用程式可以預先判斷此次行為有沒有效。<br>
                            <br>
                            情境 #2: 大部分的身份驗證攻擊是因為繼續使用密碼作為唯一驗證因素而造成。一但考慮到最佳的方式，密碼的輪替性和複雜度的鼓勵使用者使用跟使用弱密碼。並根據 NIST 800-63 停止使用這些動作，並鼓勵多重驗證。<br>
                            <br>
                            情境 #3: 不安全得密碼儲存（包含明碼儲存、可逆的演算法存密碼、使用較弱的加密 （例如使用不加鹽的 MD5/SHA1））可能導致資安缺口。最近一組研究人員在不到三個星期內破解了 3.2 億組密碼（包含長密碼），相反的使用 Argon2 、加 salting 跟足夠的工作因素驗證，就可以阻止使用像彩虹表或單字表等攻擊。
                        </p>
                    </div>
                 </div>
                <!-- 6 End -->
            </div>
        </div>
        <!-- /#wrapper -->

        <!-- jQuery -->
        <script src="../js/jquery.js"></script>


        <!-- Bootstrap Core JavaScript -->
        <script src="../js/bootstrap.min.js"></script>

        <!-- Morris Charts JavaScript -->
        <script src="../js/plugins/morris/raphael.min.js"></script>
        <script src="../js/plugins/morris/morris.min.js"></script>
        <script src="../js/plugins/morris/morris-data.js"></script>

</body>

</html>
